<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/suspicious_eyes.png"><title>Taking a look at Scala futures | BakaCoder</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-C2pV2qh2.css" as="style"><link rel="stylesheet" href="/assets/style-C2pV2qh2.css">
    <link rel="modulepreload" href="/assets/app-Bguh2_f1.js"><link rel="modulepreload" href="/assets/scala_futures.html-D-IqIvMG.js">
    <link rel="prefetch" href="/assets/timeline.html-D6rDGCgu.js" as="script"><link rel="prefetch" href="/assets/posts.html-C60QUIpS.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-CJ-y94nt.js" as="script"><link rel="prefetch" href="/assets/1.html-CuIFNv2o.js" as="script"><link rel="prefetch" href="/assets/1.html-DszXznBz.js" as="script"><link rel="prefetch" href="/assets/1.html-CDfQdc9I.js" as="script"><link rel="prefetch" href="/assets/1.html-JFqumEDy.js" as="script"><link rel="prefetch" href="/assets/1.html-Cqv40UKL.js" as="script"><link rel="prefetch" href="/assets/1.html-_FXg9lw1.js" as="script"><link rel="prefetch" href="/assets/1.html-B24ZdQab.js" as="script"><link rel="prefetch" href="/assets/1.html-Cd6UOCJi.js" as="script"><link rel="prefetch" href="/assets/1.html-CmGV3aLB.js" as="script"><link rel="prefetch" href="/assets/1.html-CN7_Yub2.js" as="script"><link rel="prefetch" href="/assets/1.html-YVONcNqZ.js" as="script"><link rel="prefetch" href="/assets/1.html-Ch0IdZZ3.js" as="script"><link rel="prefetch" href="/assets/1.html-BfEVxrq9.js" as="script"><link rel="prefetch" href="/assets/1.html-Cicri3vs.js" as="script"><link rel="prefetch" href="/assets/1.html-DvelSRiX.js" as="script"><link rel="prefetch" href="/assets/1.html-B_QExyxl.js" as="script"><link rel="prefetch" href="/assets/1.html-C46Fgdv-.js" as="script"><link rel="prefetch" href="/assets/index.html-Bqab5USB.js" as="script"><link rel="prefetch" href="/assets/install.html-CMrFtcJE.js" as="script"><link rel="prefetch" href="/assets/java_functional_practises.html-B8WwKYJ6.js" as="script"><link rel="prefetch" href="/assets/java_8_features.html-1QbZ5Vsv.js" as="script"><link rel="prefetch" href="/assets/java_8_streams.html-DXdDoB2q.js" as="script"><link rel="prefetch" href="/assets/solid_part_2.html-DYFtNlUc.js" as="script"><link rel="prefetch" href="/assets/liskov.html-C7xRE383.js" as="script"><link rel="prefetch" href="/assets/404.html-h4DFYJqN.js" as="script"><link rel="prefetch" href="/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-DWEKOTfS.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/gintoki_logo.png" alt="BakaCoder"><a href="/" class="site-name can-hide">BakaCoder</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/categories/technology/1.html" class="link" aria-label="Categories"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Categories<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/tags/java/1.html" class="link" aria-label="Tags"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Tags<!--]--></span></span><!--[--><!--]--></a></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><li class="social-item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:25px;height:25px;"><path d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z" fill-rule="evenodd" fill="currentColor"></path></svg></li><li class="social-item"><IconGithub style="width:25px;height:25px;"></IconGithub></li><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">Taking a look at Scala futures</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Samrat Saha<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2020-05-17<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/categories/technology/1.html" class="">technology</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/tags/beginner/1.html" class="">beginner</a><a href="/tags/intermediate/1.html" class="">intermediate</a><a href="/tags/scala/1.html" class="">scala</a><a href="/tags/futures/1.html" class="">futures</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h2 id="towards-the-future" tabindex="-1"><a class="header-anchor" href="#towards-the-future"><span>Towards the Future</span></a></h2><p>What are futures? Is this a concept only limited to select few from scala? Will it affect your future? We are going to find out about all this and more. Keep reading.</p><img src="/augmented-reality-education-futre.jpg"><nav class="table-of-contents"><ul><li><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#towards-the-future" class="router-link-active router-link-exact-active">Towards the Future</a></li><li><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#so-what-are-futures" class="router-link-active router-link-exact-active">So what are Futures?</a></li><li><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#need-for-futures" class="router-link-active router-link-exact-active">Need for Futures</a></li><li><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#let-s-do-some-coding" class="router-link-active router-link-exact-active">Let&#39;s do some Coding!</a><ul><li><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#scala-version" class="router-link-active router-link-exact-active">Scala Version</a></li><li><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#basic-starter-code" class="router-link-active router-link-exact-active">Basic Starter Code</a></li><li><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#future-chaining" class="router-link-active router-link-exact-active">Future Chaining</a></li></ul></li><li><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#code-samples" class="router-link-active router-link-exact-active">Code Samples</a></li></ul></nav><h2 id="so-what-are-futures" tabindex="-1"><a class="header-anchor" href="#so-what-are-futures"><span>So what are Futures?</span></a></h2><p>It is a <em>model</em> of parallel programming, there are other models such actor model. It is not limited to scala, there are similar apis in java, javascript and other languages as well.</p><p>An informal definition would be: Future is like a lazy person(me). If you give it some task to do, it doesnt do it immediately instead it tells you, <em>&quot;Yeah I am busy rite now.. will do it later but here is a <strong>gift</strong> you can use instead&quot;</em>. This <strong>gift</strong> is very <em>evil</em> as it is another future but this one contains our result. The catch is, if you try to open it, there is no guarantee you will find anything inside.</p><p>So instead of opening it, you work with the <strong>gift</strong> itself. You might ask, how can I work with the <strong>gift</strong> itself? At some point I will need to open the <strong>gift</strong> rite? (You can)</p><p>We will do exactly those things, so keep reading 😃</p><h2 id="need-for-futures" tabindex="-1"><a class="header-anchor" href="#need-for-futures"><span>Need for Futures</span></a></h2><p><em>Parallel programming</em>? People have been parallel programming before right? Java people will say they have java.lang.Thread, why would they bother about futures?</p><p>The answer is that Futures are a <strong>wrapper</strong> over threads, they are a higher level programming api. They provide us many convenient abilities which helps the developer to focus on their programming logic instead of thread creation and their <em>interaction</em>. We will see the advantages ahead.</p><div class="custom-container warning"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8v4"></path><path d="M12 16h.01"></path></g></svg><p class="custom-container-title">Note</p><p>Using futures freely for trivial calculations will just result in more time, as most of the time will go in thread context switch, you ideally want to use futures on tasks that usually take time like IO or some heavy processing but for the sake of demo we have chosen simple tasks.</p></div><h2 id="let-s-do-some-coding" tabindex="-1"><a class="header-anchor" href="#let-s-do-some-coding"><span>Let&#39;s do some Coding!</span></a></h2><h3 id="scala-version" tabindex="-1"><a class="header-anchor" href="#scala-version"><span>Scala Version</span></a></h3><p>I am using scala version 2.11.12 and you can find the scala doc for futures <a href="https://www.scala-lang.org/api/2.11.12/index.html#scala.concurrent.Future" target="_blank" rel="noopener noreferrer">here<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="basic-starter-code" tabindex="-1"><a class="header-anchor" href="#basic-starter-code"><span>Basic Starter Code</span></a></h3><div class="language-scala line-numbers-mode" data-highlighter="prismjs" data-ext="scala" data-title="scala"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>Future</span>
<span class="line"><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ExecutionContext<span class="token punctuation">.</span>Implicits<span class="token punctuation">.</span>_</span>
<span class="line"></span>
<span class="line"><span class="token keyword">object</span> Main <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> numString <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">val</span> future <span class="token operator">=</span> Future<span class="token punctuation">{</span> <span class="token comment">// &lt;-- Future code block </span></span>
<span class="line">       println<span class="token punctuation">(</span>stringToInt<span class="token punctuation">(</span>numString<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token comment">//converts a integer to string</span></span>
<span class="line">  <span class="token keyword">def</span> stringToInt<span class="token punctuation">(</span>numString<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> numString<span class="token punctuation">.</span>toInt</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>So what we have done here?</p><p>We have defined a function <code>stringToInt()</code> that takes a string as input and converts it to integer, we are not concerned with the string not being a valid number for now.</p><p>For now, we want to print the number returned. Now we wrap the call to this <code>println</code> function using <code>Future{..code block..}</code>.</p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">Scala</p><p>In scala every expression returns something and in above case, it returns a <code>Future[Unit]</code> as println returns Unit.</p></div><p>So yeah we are done now! This code will print the value 123 in a separate thread! Now lets execute this code.</p><p>Wait... the main function exits and you dont see anything printed on the console?</p><p>The reason is the future is executed on a separate thread, bt before the separate thread could do anything the main thread exits the main function and the JVM shutsdown! So lets add this line at the end to see the output to wait till the future finishes and dont forget to import <code>import scala.concurrent.duration.Duration</code></p><div class="language-scala line-numbers-mode" data-highlighter="prismjs" data-ext="scala" data-title="scala"><pre><code><span class="line">Await<span class="token punctuation">.</span>result<span class="token punctuation">(</span>future<span class="token punctuation">,</span> Duration<span class="token punctuation">.</span>Inf<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And now you will see <code>123</code> on console. 🎉</p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">Tip</p><p>You can run all the examples online on <a href="https://scastie.scala-lang.org/" target="_blank" rel="noopener noreferrer">scastie<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and you dont have to write inside main, you can directly start coding away! 😍</p></div><h4 id="understanding-the-code" tabindex="-1"><a class="header-anchor" href="#understanding-the-code"><span>Understanding the Code</span></a></h4><p>We skipped over a lot of things before, so lets look at it in a bit more detail.</p><p>For using <code>Future{}</code> we need to import <strong><code>import scala.concurrent.ExecutionContext.Implicits._</code></strong> otherwise you will get an error <strong><code>&quot;No implicits found for parameter: ExecutionContext&quot;</code></strong>.</p><p>So implicity you are passing a execution context everytime when you are using <code>Future{}</code>, without this it wont compile.</p><p>So what is an ExecutionContext? For simplicity let&#39;s consider its just a thread pool and Futures require you to pass it everytime. <strong>YES EVERYTIME</strong> and that is why it is convenient to make a it a implicit argument. 😃</p><p>For our example we are using the pre-existing global execution present in <strong><code>scala.concurrent.ExecutionContext.Implicits</code></strong>. It utilises the fork join pool present since java 8.</p><p>The above example was too simple, let&#39;s try to do something a little more practical.</p><h3 id="future-chaining" tabindex="-1"><a class="header-anchor" href="#future-chaining"><span>Future Chaining</span></a></h3><p>The main advantage of future in scala is that you can chain series of functions one after the other. This makes it really powerfull and for achieving this there are several methods we can use.</p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">Gift</p><p>This is what I meant earlier when I said we <em>use</em> the <strong>gift</strong> itself.</p></div><h4 id="map-and-flatmap" tabindex="-1"><a class="header-anchor" href="#map-and-flatmap"><span>map and flatMap</span></a></h4><p>Lets look at the below examples for map and flatMap</p><p>Suppose you a have source of strings coming from somewhere and each string is alphanumeric, more precisely for our example there is buried a number within characters. You are tasked with extracting the number and printing. You look at the problem and devise a strategy.</p><p>The strategy is:</p><ul><li>Get string</li><li>Replace all english characters</li><li>Trim all the space</li><li>Convert to integer</li><li>Print result</li></ul><p>and in that <strong>sequence</strong>.</p><div class="language-scala line-numbers-mode" data-highlighter="prismjs" data-ext="scala" data-title="scala"><pre><code><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>samizzy<span class="token punctuation">.</span>scala<span class="token punctuation">.</span>basic<span class="token punctuation">.</span>map_flatmap</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ExecutionContext<span class="token punctuation">.</span>Implicits<span class="token punctuation">.</span>_</span>
<span class="line"><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>duration<span class="token punctuation">.</span></span>Duration</span>
<span class="line"><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token punctuation">{</span>Await<span class="token punctuation">,</span> Future<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">object</span> Main <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">//Example for map</span></span>
<span class="line">  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">val</span> future <span class="token operator">=</span> </span>
<span class="line">                Future<span class="token punctuation">(</span>getString<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                  map<span class="token punctuation">(</span>sanitize<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                  map<span class="token punctuation">(</span>strip<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                  map<span class="token punctuation">(</span>stringToInt<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                  map<span class="token punctuation">(</span>println<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    Await<span class="token punctuation">.</span>result<span class="token punctuation">(</span>future<span class="token punctuation">,</span> Duration<span class="token punctuation">.</span>Inf<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">def</span> getString<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot; 123 hey there&quot;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">def</span> sanitize<span class="token punctuation">(</span>alphaNumeric<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> alphaNumeric<span class="token punctuation">.</span>replaceAll<span class="token punctuation">(</span><span class="token string">&quot;[a-zA-Z]&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">def</span> strip<span class="token punctuation">(</span>numString<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> numString<span class="token punctuation">.</span>trim</span>
<span class="line"></span>
<span class="line">  <span class="token keyword">def</span> stringToInt<span class="token punctuation">(</span>numString<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> numString<span class="token punctuation">.</span>toInt</span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Each step in the strategy is made into a function and we have chained the functions using <code>map</code> method present on Future. <em>Cool rite?</em> 😄.</p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">Benefit</p><p>Low level stuff such as waiting for the thread to finish, then pass the result of the this thread to the new thread is taken careof by the futures api</p></div><p>In each <code>map</code> method you will get the output of the previous method and you can then perform any operation on them, you are basically being spoon fed the inputs.</p><p>It&#39;s important to take a look at the signature of <strong>map</strong>,</p><div class="language-scala line-numbers-mode" data-highlighter="prismjs" data-ext="scala" data-title="scala"><pre><code><span class="line"><span class="token comment">//T type corresponds to type the current future holds and</span></span>
<span class="line"><span class="token comment">//S type corresponds to type that map shall convert to.</span></span>
<span class="line"><span class="token keyword">def</span> map<span class="token punctuation">[</span>S<span class="token punctuation">]</span><span class="token punctuation">(</span>fn<span class="token operator">:</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> S <span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>S<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>It takes a function that accepts argument of type <code>T</code> then transforms it into type <code>S</code>, the <code>map</code> method itself returns type of <code>Future[S]</code>, so basically the passed function has the responsibility of doing transformation and then map will return a Future of that transformation!</p><p>Now there maybe a scenario where we are told next that we will get another integer and now we have to add this integer to the extracted integer.</p><div class="language-scala line-numbers-mode" data-highlighter="prismjs" data-ext="scala" data-title="scala"><pre><code><span class="line">    <span class="token keyword">val</span> toAdd<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> getToAdd</span>
<span class="line">    <span class="token keyword">val</span> future <span class="token operator">=</span> </span>
<span class="line">                Future<span class="token punctuation">(</span>getString<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>sanitize<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>strip<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>stringToInt<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>_ <span class="token operator">+</span> toAdd<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>println<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    Await<span class="token punctuation">.</span>result<span class="token punctuation">(</span>future<span class="token punctuation">,</span> Duration<span class="token punctuation">.</span>Inf<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">def</span> getToAdd<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">20</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>So you say, <strong>&quot;Hold my beer&quot;</strong>.</p><p>You rollup your sleeves and then you smash in the above solution, but then there&#39;s a <strong>twist</strong>, you&#39;re told the number to add is not constant and can randomly change, and that it is being fetched from an external source, so you always need to fetch the latest value.</p><p>Another thing is some other developer has already written the code for adding a number to the latest number returning Future, so you will receive <code>Future[Int]</code> instead of <code>Int</code>.</p><p>But how do you chain a future from another source? To save us from this hell, <code>flatMap</code> comes to the rescue,</p><div class="language-scala line-numbers-mode" data-highlighter="prismjs" data-ext="scala" data-title="scala"><pre><code><span class="line"></span>
<span class="line">    <span class="token keyword">val</span> future <span class="token operator">=</span> </span>
<span class="line">                Future<span class="token punctuation">(</span>getString<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>sanitize<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>strip<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>stringToInt<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                flatMap<span class="token punctuation">(</span>getAdded<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token comment">// getAdded returns Future[Int] and flatMap also returns Future[Int]</span></span>
<span class="line">                map<span class="token punctuation">(</span>println<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    Await<span class="token punctuation">.</span>result<span class="token punctuation">(</span>future<span class="token punctuation">,</span> Duration<span class="token punctuation">.</span>Inf<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">def</span> getAdded<span class="token punctuation">(</span>num<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span>Future<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> Future<span class="token punctuation">(</span>Random<span class="token punctuation">.</span>nextInt<span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span> <span class="token operator">+</span> num<span class="token punctuation">)</span> <span class="token comment">//imagine this is from an external source</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If we take a look at the signature of <strong>flatMap</strong>,</p><div class="language-scala line-numbers-mode" data-highlighter="prismjs" data-ext="scala" data-title="scala"><pre><code><span class="line"><span class="token comment">//flatMap  takes an function that itself returns Future</span></span>
<span class="line"><span class="token keyword">def</span> flatMap<span class="token punctuation">[</span>S<span class="token punctuation">]</span><span class="token punctuation">(</span>fn<span class="token operator">:</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> Future<span class="token punctuation">[</span>S<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>S<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>it takes a function that accepts an argument of type <code>T</code> (similar to map) but this function returns a <code>Future[S]</code> as compared to <code>S</code> in map.</p><p>So flatMap are useful when you have a function that itself returns future and not plain object.</p><h4 id="zip" tabindex="-1"><a class="header-anchor" href="#zip"><span>zip</span></a></h4><p>But lets say the developer had only implemented the functionality to fetch the number and not add &amp; return, then we can use the zip method. It adds the result of current future (the one on which .zip is called) with another future that is passed as an argument to zip. When I say add result, i mean it delivers the result as a tuple of both results. Below is the code.</p><div class="language-scala line-numbers-mode" data-highlighter="prismjs" data-ext="scala" data-title="scala"><pre><code><span class="line">    <span class="token keyword">val</span> future <span class="token operator">=</span> </span>
<span class="line">                Future<span class="token punctuation">(</span>getString<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>sanitize<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>strip<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>stringToInt<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                zip<span class="token punctuation">(</span>getNum<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>tuple<span class="token keyword">=&gt;</span> tuple<span class="token punctuation">.</span>_1 <span class="token operator">+</span> tuple<span class="token punctuation">.</span>_2<span class="token punctuation">)</span><span class="token punctuation">.</span></span>
<span class="line">                map<span class="token punctuation">(</span>println<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    Await<span class="token punctuation">.</span>result<span class="token punctuation">(</span>future<span class="token punctuation">,</span> Duration<span class="token punctuation">.</span>Inf<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">def</span> getNum<span class="token operator">:</span> Future<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> Future<span class="token punctuation">(</span>Random<span class="token punctuation">.</span>nextInt<span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Actually we could have achieved the same thing with <strong>flatMap</strong>, it&#39;s not hard to figure out so i&#39;ll leave it upto you guys.</p><p>So thats all for now! Thanks for reading! We&#39;ll take a look at the rest of the methods some other time. Hope you feel a little more like a future gangsta now 😎</p><h2 id="code-samples" tabindex="-1"><a class="header-anchor" href="#code-samples"><span>Code Samples</span></a></h2><p>All code on this page is available on this <a href="https://github.com/samizzy/scala-futures-basics" target="_blank" rel="noopener noreferrer">GitHub repository<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Last Updated 6/17/2025, 12:18:20 AM<!--]--></span></span></div></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#towards-the-future" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Towards the Future"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Towards the Future<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#so-what-are-futures" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="So what are Futures?"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->So what are Futures?<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#need-for-futures" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Need for Futures"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Need for Futures<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#let-s-do-some-coding" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Let&#39;s do some Coding!"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Let&#39;s do some Coding!<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#scala-version" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Scala Version"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Scala Version<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#basic-starter-code" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Basic Starter Code"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Basic Starter Code<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#future-chaining" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Future Chaining"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Future Chaining<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/technology/2020/May/scala_futures.html#code-samples" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Code Samples"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Code Samples<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Bguh2_f1.js" defer></script>
  </body>
</html>
